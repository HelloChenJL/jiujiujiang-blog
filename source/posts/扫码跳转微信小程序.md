---
title: 扫码跳转微信小程序
date: 2026-02-06T05:20:37.947Z
categories:
  - 小程序相关
tags:
  - HTML
  - 配置
---
# 目的

本文档旨在指导研发人员根据业务场景，选择并实施最优的小程序跳转方案，确保流畅的用户体验。

# 操作步骤/内容/流程

## 核心方案对比分析

官方提供了四种方式：小程序码、URL Link 、URL Sheme、Short Link

横向对比图如下：

| 特性 | **小程序码** | **URL Link** | **URL Scheme** | **Short Link** |
| --- | --- | --- | --- | --- |
| **微信内扫描** | ✅ **直接打开**<br>（体验最佳） | ✅ **直接打开**<br>（体验最佳） | ❌ **打开失败**<br>（需要到外部浏览器打开） | ✅ **直接打开** |
| **微信外扫描** | ❌ **无法直接打开**<br>（需要手动保存并到微信内识别） | ✅ **兼容性好**<br>（提示“在微信中打开”） | ✅ **直接拉起** | ❌ **可能无法处理** |
| **生成限制** | 无限量：5千次/分钟<br>有限量：10万个总数 | 与加密Scheme共享**50万次/天** | 明文：无限制<br>加密：与URL Link共享50万次/天 | **电商平台专属**<br>100万个/天 |
| **有效时长** | 永久有效 | 最长30天 | 明文：永久有效<br>加密：最长30天 | 短期：30天<br>长期：永久有效 |
| **优点** | 1. 永久有效，适合长期投放<br>2. 微信内体验流畅 | 1. 环境兼容性最好<br>2. 用户体验统一且良好<br>3. 生成使用简单 | 1. 微信外跳转最直接<br>2. 明文模式无生成限制 | 1. 链接极短，适合字符数限制场景<br>2. 永久有效的名额较多 |
| **缺点** | 微信外几乎不可用 | 有每日生成次数限制 | 在微信内完全无法使用 | 功能开放范围小 |

## 方案适用场景总结

#### 小程序码

微信官方专属设计的二维码，辨识度高，仅支持微信内扫码。适用于需要长期投放的场景，例如线下宣传物料（海报、展架）、公众号推文内嵌等。

#### URL Link（通用首选）

适配短信、邮件、网页等多场景，无论用户在微信内还是微信外扫码，均能提供稳定体验。核心适用于 “不确定用户扫码环境” 的通用场景。

#### URL Scheme

专为微信外使用场景设计，可从外部应用（如短信、邮件、第三方 App）直接拉起小程序。同时适配 “生成码无次数限制” 的需求，适合高频生成、外部引流的业务场景。

#### Short Link

以短链接形式呈现，主要面向电商平台开放。适用于视频号带货等电商场景，或微信内需要 “极短链接” 的使用场景（如字符数受限的宣传文案）。

## 重点方案详细说明（URL Scheme 与 URL Link）

### URL Scheme

URL Scheme 分为明文和密文两种获取方式，支持自定义参数拼接，适配不同业务需求。

#### 密文 URL Scheme 获取与使用

###### （1）获取参数

服务端先获取 access\_token 后，调用以下接口请求生成：

[获取加密 scheme 码 | 微信开放文档](https://developers.weixin.qq.com/miniprogram/dev/OpenApiDoc/qrcode-link/url-scheme/generateScheme.html)

```plaintext
POST https://api.weixin.qq.com/wxa/queryscheme?access_token=ACCESS_TOKEN
```

生成的 URL Scheme 格式如下：

```plaintext
weixin://dl/business/?t=*TICKET*
```

###### （2）拼接自定义参数

获取 Scheme 后，可在链接后拼接自定义参数，格式如下：

```plaintext
weixin://dl/business/?t=*TICKET*&cq=*CUSTOM PARAMETER*
```

###### （3）系统适配说明

*   iOS 系统：支持直接识别 URL Scheme，可在短信等应用场景中直接跳转小程序；
    
*   Android 系统：不支持直接识别 URL Scheme，需通过 H5 页面中转后跳转，示例代码如下：
    

```plaintext
location.href = 'weixin://dl/business/?t=*TICKET*'
```

#### 明文 URL Scheme 获取与使用

###### （1）获取路径

登录【[MP 平台](https://mp.weixin.qq.com/)】→ 左下角 “账号”→“账号设置”→“基本设置”→“隐私与安全”→ 找到 “明文 Scheme 拉起此小程序” 功能入口（按页面提示完成配置）。

###### （2）参数说明与拼接格式

需按以下要求拼接参数，生成明文 URL Scheme 链接：

1.  【必填】APPID：目标小程序的唯一标识 appid；
    
2.  【必填】PATH：需跳转的小程序页面路径（必须是已发布的页面，路径本身不可携带 query 参数）；
    
3.  【选填】QUERY：跳转时携带的查询参数，最大长度 512 个字符，仅支持数字、大小写英文及特殊字符：!#$&'()\*+,/:;=?@-.\_~%\`，需进行 url\_encode 处理；
    
4.  【选填】ENV\_VERSION：指定打开的小程序版本（正式版为`release`，体验版为`trial`，开发版为`develop`），仅在微信外打开时生效；未填写则默认打开正式版。
    

拼接格式示例：

```plaintext
weixin://dl/business/?appid=*APPID*&path=*PATH*&query=*QUERY*&env_version=*ENV_VERSION*
```

### URL Link

##### （1）获取方式

服务端获取 access\_token 后，调用以下接口生成：

[获取加密 URLLink | 微信开放文档](https://developers.weixin.qq.com/miniprogram/dev/OpenApiDoc/qrcode-link/url-link/generateUrlLink.html)

```plaintext
POST https://api.weixin.qq.com/wxa/generate_urllink?access_token=ACCESS_TOKEN
```

生成的 URL Link 格式如下（两种均有效）：

```plaintext
https://wxaurl.cn/*TICKET* 或 https://wxmpurl.cn/*TICKET*
```

注：用户在微信内访问 URL Link 时，会通过开放标签自动打开小程序。

##### （2）拼接自定义参数

获取 Link 后，可在链接后拼接自定义参数，格式如下：

```plaintext
https://wxaurl.cn/*TICKET*?cq=*CUSTOM PARAMETER* 或 https://wxmpurl.cn/*TICKET*?cq=*CUSTOM PARAMETER*
```

## 注意事项

*   只能生成已发布的小程序的 URL Link或 URL Scheme。
    
*   使用Scheme进行跳转小程序，安卓系统不支持需要有H5 页面进行中转。
    
*   使用URL Link 在微信内或者安卓手机打开时，默认会先跳转官方 H5 中间页，如果需要定制 H5 内容，可以使用云开发静态网站。
    

## 实战参考文档

[《URL Scheme跳转微信小程序方案》](./URL%20Scheme跳转微信小程序方案.md)

[《URL Link 扫码跳转微信小程序》](./URL%20Link%20扫码跳转微信小程序案例.md)
